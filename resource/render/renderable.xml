<?xml version='1.0'?>

<effect>

  <shader type="vertex_shader" name="PrimitiveVS">
    <attrib  name="p" usage="position"/>
    <uniform type="mat4" name="mvp"/>

    <uniform type="vec3" name="v0"/>
    <uniform type="vec3" name="v1"/>
    <uniform type="vec3" name="v2"/>
    <uniform type="vec3" name="v3"/>
    <uniform type="vec3" name="v4"/>
    <uniform type="vec3" name="v5"/>
    <uniform type="vec3" name="v6"/>
    <uniform type="vec3" name="v7"/>

    <code>
      <![CDATA[
#version 450 core
      
in float p;

uniform mat4 mvp;
uniform vec3 v0;
uniform vec3 v1;
uniform vec3 v2;
uniform vec3 v3;
uniform vec3 v4;
uniform vec3 v5;
uniform vec3 v6;
uniform vec3 v7;
      
void main()
{
	vec3 pos;
	if (p < 0.5f)
	{
		pos = v0;
	}
	else if (p < 1.5f)
	{
		pos = v1;
	}
	else if (p < 2.5f)
	{
		pos = v2;
	}
	else if (p < 3.5f)
	{
		pos = v3;
	}
	else if (p < 4.5f)
	{
		pos = v4;
	}
	else if (p < 5.5f)
	{
		pos = v5;
	}
	else if (p < 6.5f)
	{
		pos = v6;
	}
	else
	{
		pos = v7;
	}
	gl_Position = mvp * vec4(pos, 1.0f);
}
      ]]>
    </code>
  </shader>

  <shader type="fragment_shader" name="HelperFS">
    <uniform type="vec4" name="color"/>
    <code>
      <![CDATA[
#version 450 core

out vec4 out_Color;

uniform vec4 color;

void main()
{
  out_Color = color;
}
		]]>
    </code>
  </shader>

  <technique name="LineTec">
    <state name="polygon_mode" value="line"/>
    <state name="cull_mode" value="none"/>

    <state name="vertex_shader" value="PrimitiveVS"/>
    <state name="fragment_shader" value="HelperFS"/>
  </technique>
</effect>

